# SwapX Documentation AI Agent Guide

## Project Overview
This is a **Docusaurus 3.6.3** documentation site for **SwapX** - a decentralized omni-chain DEX built on Uniswap v2/v3 protocols. SwapX is the core engine of the Xone Ecosystem, integrating Li.Fi aggregation protocol for cross-chain swaps.

The site has two major sections:
- **swapx-integration**: User-facing guides (trading, liquidity, bridging, protocol)
- **swapx-developer**: Technical documentation (contracts V2/V3, SDKs, tutorials)

## Architecture

### Documentation Structure
```
docs/
â”œâ”€â”€ swapx-integration/          # User guides & product docs
â”‚   â”œâ”€â”€ welcome-to-swapx/       # Getting started, FAQs, about
â”‚   â”œâ”€â”€ swap/                   # Trading guides & concepts
â”‚   â”œâ”€â”€ liquidity-pool/         # LP guides for V2/V3
â”‚   â”œâ”€â”€ bridging/               # Cross-chain with RainLink
â”‚   â”œâ”€â”€ protocol/               # Tokenomics & protocol info
â”‚   â””â”€â”€ Pledge/                 # Staking documentation
â””â”€â”€ swapx-developer/            # Technical documentation
    â”œâ”€â”€ contracts-v2/           # V2 smart contract docs
    â”œâ”€â”€ contracts-v3/           # V3 smart contract docs
    â”œâ”€â”€ sdks-core/              # Core SDK utilities
    â”œâ”€â”€ sdks-v2/                # V2 JavaScript SDK
    â”œâ”€â”€ sdks-v3/                # V3 JavaScript SDK
    â”œâ”€â”€ quick-start-tutorial/   # Step-by-step dev guide
    â”œâ”€â”€ troubleshooting/        # Common issues & solutions
    â””â”€â”€ use-case-example/       # Implementation examples
```

**Critical**: No i18n folder exists yet - project is currently single-language (Chinese primary, some English docs).

### Routing & Navigation
- **No blog**: `blog: false` in [docusaurus.config.js](docusaurus.config.js)
- **Docs as root**: `routeBasePath: "/"` - documentation is the entire site
- **Homepage**: [src/pages/index.js](src/pages/index.js) redirects to `/swapx-integration/`
- **Sidebar**: [sidebars.js](sidebars.js) uses `autogenerated` for both top-level categories
- **Two-column layout**: Top-level categories (`SWAPX INTEGRATION`, `SWAPX DEVELOPER`) are non-collapsible

### Category Configuration
Subdirectories use `_category_.json` files for metadata:
```json
{
  "collapsed": false  // Most categories default to expanded
}
```

## Development Workflows

### Essential Commands
```bash
pnpm start           # Dev server with hot reload (http://localhost:3000)
pnpm build          # Production build â†’ build/ directory
pnpm serve          # Preview production build locally
pnpm clear          # Clear .docusaurus cache (use when build issues occur)
pnpm clean          # Run clean.sh script (removes build/, .docusaurus/, .DS_Store)
```

**Package Manager**: Always use `pnpm@9.15.3+` (enforced by `packageManager` field). Node â‰¥18 required.

### Build & Deployment
- **Output directory**: `build/` (Cloudflare Pages compatible)
- **Config**: [wrangler.toml](wrangler.toml) - `pages_build_output_dir = "build"`
- **Production URL**: https://docs.swapx.exchange
- **Broken links**: Set to `"ignore"` - won't fail build on broken links

### Cleaning & Maintenance
The [clean.sh](clean.sh) script removes:
- `build/` directory
- `.docusaurus/` cache
- All `.DS_Store` files (macOS artifacts)
- `node_modules/.cache/` directories
- `package-lock.json` (project uses pnpm)

Run when experiencing build or cache issues.

## Project-Specific Conventions

### Documentation Standards
- **Frontmatter**: Required for all docs
  ```yaml
  ---
  title: Display Title
  sidebar_label: "ðŸ”¹ Short Label"  # Often includes emoji
  sidebar_position: 1
  ---
  ```
- **Emoji usage**: Heavily used in titles and labels (e.g., "ðŸ‘‹ SwapX Product Overview", "ðŸ”„ Core Pillars")
- **README.md files**: Primary index file for each section (Docusaurus convention)
- **External links**: Always link to `https://swapx.exchange/` or `https://github.com/hi-swapx/docs`

### Code Examples & Syntax
Prism configured for:
- `solidity` - Smart contract code
- `javascript`, `typescript` - SDK examples
- `json` - Configuration examples

Live code blocks enabled via `@docusaurus/theme-live-codeblock` for interactive examples.

### Theming & Styling
- **Primary brand color**: `#f0441d` (orange-red) - see [src/css/custom.css](src/css/custom.css)
- **Dark mode**: Enabled with system preference detection (`respectPrefersColorScheme: true`)
- **Custom CSS**: Extensive customizations in [src/css/custom.css](src/css/custom.css)
- **Image zoom**: `docusaurus-plugin-image-zoom` enabled for click-to-zoom images
- **Announcement bar**: Configured to show GitHub star request (closeable)

### Navigation Features
- **Navbar**: Minimal - search, "Go SwapX" link, GitHub link
- **Sidebar**: Auto-collapsible categories, supports hiding entire sidebar
- **Table of Contents**: Shows headings level 2-5

### Search Configuration
- **Provider**: `@easyops-cn/docusaurus-search-local` (NOT Algolia)
- **Why**: Built-in Chinese language support
- **Indexing**: Docs only (`indexBlog: false`, `indexPages: false`)
- **Route**: `docsRouteBasePath: "/"`



## Common Tasks

### Adding New Documentation
1. Create `.md` file in appropriate `docs/swapx-integration/` or `docs/swapx-developer/` subdirectory
2. Add frontmatter with `title`, `sidebar_label`, `sidebar_position`
3. If creating a new subdirectory, add `_category_.json`:
   ```json
   {
     "label": "Display Name",
     "position": 1,
     "collapsed": false
   }
   ```
4. Content auto-appears in sidebar (uses `autogenerated` type in [sidebars.js](sidebars.js))
5. Run `pnpm start` to preview

### Modifying Sidebar Structure
Edit [sidebars.js](sidebars.js):
- Currently uses `autogenerated` for both `swapx-integration` and `swapx-developer`
- Top-level categories are non-collapsible (`collapsible: false`, `collapsed: false`)
- To customize specific sections, replace `autogenerated` with explicit item arrays

### Working with Images
- Store in `static/img/` or `docs/swapx-integration/assets/`
- Reference as `/img/filename.png` or relative paths
- Images support zoom via `docusaurus-plugin-image-zoom`

### Troubleshooting Build Issues
1. Run `pnpm clear` to clear Docusaurus cache
2. Run `pnpm clean` (executes [clean.sh](clean.sh)) for deeper cleanup
3. Check for MDX syntax errors (JSX-style comments, unclosed tags)
4. Verify all internal links are correct (though `onBrokenLinks: "ignore"`)

## Utility Scripts

### create-index.js
Generates `README.md` files for directories that have markdown files but no index file. Located at repository root.

### QUICK_START.md
Comprehensive guide in Chinese covering:
- Project structure (93 markdown docs, 36 images)
- Quick commands
- Documentation organization
- Maintenance scripts

Reference this file when onboarding new contributors.

## Important Context
- **Primary audience**: Chinese-speaking DeFi users and developers
- **Xone Ecosystem**: SwapX is part of larger Xone blockchain ecosystem
- **Multi-chain focus**: Supports Ethereum, Arbitrum, Optimism, Base, BSC, Avalanche, Polygon, Tron, and native Xone Chain
- **Dual protocol**: Both Uniswap V2 and V3 implementations - keep docs separated by version
- **Li.Fi integration**: Omni-chain routing powered by Li.Fi aggregation protocol - key differentiator

## Key Files Reference
- [docusaurus.config.js](docusaurus.config.js) - Main configuration
- [sidebars.js](sidebars.js) - Sidebar structure (autogenerated)
- [package.json](package.json) - Dependencies & scripts
- [wrangler.toml](wrangler.toml) - Cloudflare Pages deployment
- [clean.sh](clean.sh) - Cleanup script
- [QUICK_START.md](QUICK_START.md) - Chinese quickstart guide
- [src/pages/index.js](src/pages/index.js) - Homepage redirect
