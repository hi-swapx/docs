# SwapX Documentation AI Agent Guide

## Project Overview
This is a Docusaurus 3.6.3 documentation site for **SwapX** - a decentralized token exchange system built on Uniswap v2/v3 protocols. The site provides comprehensive documentation for:
- **Study**: User guides, product features, wallet setup, trading guides
- **Contract**: Smart contract documentation (SwapX V2/V3)
- **SDK**: JavaScript/TypeScript SDK documentation (V2/V3)

## Architecture

### Documentation Structure
```
docs/                           # English source docs (master)
â”œâ”€â”€ study/                      # User guides & education
â”œâ”€â”€ contract/                   # Smart contract docs
â””â”€â”€ sdk/                        # SDK reference docs

i18n/
â”œâ”€â”€ en/                         # English translations
â”‚   â”œâ”€â”€ code.json              # UI translations
â”‚   â””â”€â”€ docusaurus-plugin-content-docs/current/
â””â”€â”€ zh/                         # Chinese translations (primary audience)
    â”œâ”€â”€ code.json              # UI translations (314 lines)
    â””â”€â”€ docusaurus-plugin-content-docs/current/
```

**Critical**: Docs are translated from English (`docs/`) to `i18n/{locale}/docusaurus-plugin-content-docs/current/` - structure mirrors exactly.

### Routing & Navigation
- **No blog**: `blog: false` in config
- **Docs as root**: `routeBasePath: "/"` - docs appear at site root
- **Homepage**: [src/pages/index.js](src/pages/index.js) redirects to `/study`
- **Sidebar**: [sidebars.js](sidebars.js) uses `autogenerated` for all three main sections

## Development Workflows

### Essential Commands
```bash
pnpm start           # Dev server with hot reload
pnpm build          # Production build â†’ build/
pnpm serve          # Preview production build locally
pnpm clear          # Clear cache when build issues occur
pnpm write-translations  # Extract i18n strings to code.json
```

**Package Manager**: Always use `pnpm` (enforced by packageManager field). Node â‰¥18 required.

### Translation Workflow
1. Write docs in English under `docs/`
2. Run `pnpm write-translations` to extract UI strings
3. Translate docs to `i18n/{locale}/docusaurus-plugin-content-docs/current/`
4. Translate UI strings in `i18n/{locale}/code.json`
5. Build validates all locales automatically

**Default locale**: `en` (fallback), but primary audience is Chinese (`zh`)

## Project-Specific Conventions

### Documentation Standards
- Use frontmatter for all docs:
  ```yaml
  ---
  title: Display Title
  sidebar_label: "ðŸ”¹Short Label"  # Often includes emoji
  sidebar_position: 1
  ---
  ```
- Emoji usage: Common in sidebar labels and headings (e.g., "ðŸ¤—Hi Swapx!", "âœ¨SwapX Product Overview")
- External links: Always to `https://swapx.exchange/` or GitHub `https://github.com/hi-swapx/docs`

### Theming & Styling
- Primary brand color: `#f0441d` (orange-red)
- Dark mode: Respects system preference (`respectPrefersColorScheme: true`)
- Custom CSS: [src/css/custom.css](src/css/custom.css) (847 lines) - extensive customizations
- Live code blocks: `@docusaurus/theme-live-codeblock` enabled for interactive examples

### Search Configuration
- Uses `@easyops-cn/docusaurus-search-local` (not Algolia)
- Indexes both `en` and `zh` locales
- No blog/pages indexing (docs only)

### Key Plugins
1. `@easyops-cn/docusaurus-search-local` - Local search (Chinese support)
2. `@docusaurus/theme-live-codeblock` - Interactive code examples
3. `docusaurus-plugin-image-zoom` - Image click-to-zoom

## Deployment

### Cloudflare Pages
- Config: [wrangler.toml](wrangler.toml)
- Build output: `build/` directory
- Project name: `swapx-doc`
- URL: `https://docs.swapx.exchange`

### Pre-deployment Checklist
- Run `pnpm build` locally first
- Verify both locales build successfully
- Check broken links (config: `onBrokenLinks: "ignore"`)
- Test search functionality after deployment

## Code Syntax Highlighting
Prism configured for:
- `solidity` (smart contracts)
- `javascript`, `typescript` (SDK examples)
- `json` (config examples)

When adding code blocks, use these language identifiers.

## Common Tasks

### Adding New Documentation
1. Create `.md` file in appropriate `docs/` subdirectory
2. Add frontmatter with title, sidebar_label, sidebar_position
3. Content auto-appears in sidebar (uses `autogenerated` type)
4. Translate to `i18n/zh/docusaurus-plugin-content-docs/current/` matching path

### Modifying Sidebar Structure
Edit [sidebars.js](sidebars.js) - currently all categories use `autogenerated`. To customize, replace with explicit item definitions.

### Updating UI Translations
Edit `i18n/{locale}/code.json` - follows Docusaurus theme key format. Changes require dev server restart.

## Important Context
- **Target audience**: Primarily Chinese-speaking users (note `zh` locale priority)
- **Xone ecosystem**: SwapX is part of larger "Xone" blockchain ecosystem - docs reference this context
- **DeFi focus**: Content covers swap, liquidity provision, fees, wallet integration
- **Dual protocol**: Supports both Uniswap V2 and V3 protocols - docs separated by version
