/**
 * Any CSS included here will be global.
 */

:root {
  --ifm-color-primary: #fc4e27;
  --ifm-color-primary-dark: #cf1a1a;
  --ifm-color-primary-darker: #e74420;
  --ifm-color-primary-darkest: #ed4423;
  --ifm-color-primary-light: #ea3120;
  --ifm-color-primary-lighter: #d83f15;
  --ifm-color-primary-lightest: #ec5113;
  --ifm-code-font-size: 95%;
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);

  /* è‡ªå®šä¹‰å˜é‡ */
  --sidebar-bg-color: #fefefe;
  --sidebar-hover-bg: rgba(240, 68, 29, 0.08);

  /* å¸ƒå±€æ§åˆ¶å˜é‡ */
  --custom-container-width: 1400px; /* æœ€å¤§å®½åº¦ */
  --custom-side-spacing: 2rem;      /* å·¦å³æœ€å°ç©ºéš™ */
}

[data-theme='dark'] {
  --ifm-color-primary: #e82907;
  --ifm-color-primary-dark: #e90756;
  --ifm-color-primary-darker: #ea2b0e;
  --ifm-color-primary-darkest: #e64303;
  --ifm-color-primary-light: #da1705;
  --ifm-color-primary-lighter: #de3c06;
  --ifm-color-primary-lightest: #e3280f;
  --docusaurus-highlighted-code-line-bg: rgba(249, 8, 8, 0.3);
  
  --sidebar-bg-color: #1a1a1b;
  --sidebar-hover-bg: rgba(232, 41, 7, 0.15);
}

/* =========================================
   1. å¸ƒå±€ä¼˜åŒ– (Layout)
   ========================================= */

/* å¯¼èˆªæ æ ·å¼ */
.navbar {
  backdrop-filter: blur(12px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  border-bottom: 1px solid rgba(240, 68, 29, 0.1);
  /* ä¿®å¤ï¼šç¡®ä¿å¯¼èˆªæ å¯ä»¥ä½œä¸ºç»å¯¹å®šä½çš„å‚è€ƒ */
  position: sticky; 
}

[data-theme='dark'] .navbar {
  border-bottom-color: rgba(232, 41, 7, 0.15);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
}

.navbar__inner {
  max-width: var(--custom-container-width);
  margin: 0 auto;
  padding: 0 var(--custom-side-spacing);
  /* å…³é”®ï¼šè®¾ç½®ä¸º relativeï¼Œä½œä¸ºæœç´¢æ¡†ç»å¯¹å®šä½çš„çˆ¶çº§å‚è€ƒç‚¹ */
  position: relative; 
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* ç¡®ä¿å¯¼èˆªæ å³ä¾§å…ƒç´ ä¸è¢«æœç´¢æ¡†é®æŒ¡ */
.navbar__items--right {
  position: static;
  z-index: 20;
}

/* å·¦ä¾§å¯¼èˆªæ å…ƒç´  */
.navbar__items--left {
  display: flex;
  align-items: center;
  position: relative;
  z-index: 20; /* æé«˜å±‚çº§ï¼Œé˜²æ­¢è¢«æœç´¢æ¡†é®æŒ¡ */
}

/* é¡µé¢ä¸»ä½“å†…å®¹å±…ä¸­é™åˆ¶ */
.main-wrapper {
  max-width: calc(var(--custom-container-width) * 1.1);
  margin: 0 auto;
  width: 100%;
  padding-left: var(--custom-side-spacing);
  padding-right: var(--custom-side-spacing);
}

@media (max-width: 996px) {
  :root {
    --custom-side-spacing: 1rem;
  }
}

/* =========================================
   2. ä¾§è¾¹æ ç¾åŒ– (Sidebar) - å·²ä¿®å¤å­—ä½“å¤§å°é€‰æ‹©å™¨
   ========================================= */

.theme-doc-sidebar-container {
  border-right: none !important;
  background-color: var(--sidebar-bg-color);
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.03);
}

[data-theme='dark'] .theme-doc-sidebar-container {
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.2);
}

/* éšè—ä¾§è¾¹æ æ»šåŠ¨æ¡ */
.theme-doc-sidebar-container nav,
.menu__list,
aside[class*='docSidebarContainer'] {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.theme-doc-sidebar-container nav::-webkit-scrollbar,
.menu__list::-webkit-scrollbar,
aside[class*='docSidebarContainer']::-webkit-scrollbar {
  display: none;
}

/* ä¾§è¾¹æ èœå•é¡¹åŸºç¡€æ ·å¼ */
.menu__link {
  border-radius: 6px;
  margin-bottom: 2px;
  padding: 7px 12px 7px 10px;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  border-left: 2px solid transparent;
  position: relative;
  line-height: 1.5;
  /* é»˜è®¤å­—ä½“å¤§å° */
  font-size: 16px; 
}

/* è£…é¥°çº¿ */
.menu__link::before {
  content: '';
  position: absolute;
  left: -20px;
  top: 50%;
  width: 14px;
  height: 1px;
  background: linear-gradient(to right, 
    rgba(240, 68, 29, 0.15), 
    rgba(240, 68, 29, 0.05));
  transform: translateY(-50%);
  opacity: 0;
  transition: opacity 0.25s ease;
}

[data-theme='dark'] .menu__link::before {
  background: linear-gradient(to right, 
    rgba(232, 41, 7, 0.25), 
    rgba(232, 41, 7, 0.08));
}

/* æ’é™¤é¡¶çº§åˆ†ç±»ï¼Œå…¶ä»–æ˜¾ç¤ºè£…é¥°çº¿ */
.menu__list-item:not(.top-level-category) .menu__link::before {
  opacity: 1;
}

.menu__link:hover {
  background-color: var(--sidebar-hover-bg);
  border-left-color: var(--ifm-color-primary);
  transform: translateX(3px);
}

.menu__link--active {
  background: linear-gradient(90deg, 
    var(--sidebar-hover-bg) 0%, 
    rgba(240, 68, 29, 0.03) 100%);
  color: var(--ifm-color-primary);
  font-weight: 600;
  border-left-color: var(--ifm-color-primary);
  box-shadow: 0 1px 4px rgba(240, 68, 29, 0.12);
}

[data-theme='dark'] .menu__link--active {
  background: linear-gradient(90deg, 
    var(--sidebar-hover-bg) 0%, 
    rgba(232, 41, 7, 0.05) 100%);
  box-shadow: 0 1px 4px rgba(232, 41, 7, 0.2);
}

/* =========================================
   ä¾§è¾¹æ å­—ä½“å¤§å°ä¿®å¤åŒº (Sidebar Font Fixes)
   ========================================= */
/* è¯´æ˜ï¼šä½¿ç”¨æ›´æ˜ç¡®çš„å±‚çº§é€‰æ‹©å™¨ï¼ŒåŒæ—¶å…¼å®¹ Link å’Œ Category (Category é€šå¸¸åŒ…è£¹åœ¨ div ä¸­) */

/* 1. ä¸€çº§ç›®å½• (Level 1) */
.theme-doc-sidebar-menu > .menu__list-item > .menu__link,
.theme-doc-sidebar-menu > .menu__list-item > div > .menu__link {
  font-size: 18px !important;
  font-weight: 700;
  line-height: 1.4;
  margin-bottom: 4px;
}

/* 2. äºŒçº§ç›®å½• (Level 2) */
.theme-doc-sidebar-menu > .menu__list-item > .menu__list > .menu__list-item > .menu__link,
.theme-doc-sidebar-menu > .menu__list-item > .menu__list > .menu__list-item > div > .menu__link {
  font-size: 16px !important;
  font-weight: 500;
}

/* 3. ä¸‰çº§ç›®å½• (Level 3) */
.theme-doc-sidebar-menu > .menu__list-item > .menu__list > .menu__list-item > .menu__list > .menu__list-item > .menu__link,
.theme-doc-sidebar-menu > .menu__list-item > .menu__list > .menu__list-item > .menu__list > .menu__list-item > div > .menu__link {
  font-size: 15px !important;
  padding-left: 25px; /* å¢åŠ ç¼©è¿› */
  opacity: 0.95;
}

/* 4. å››çº§åŠä»¥ä¸‹ç›®å½• (Level 4+) */
.theme-doc-sidebar-menu .menu__list .menu__list .menu__list .menu__link {
  font-size: 14px !important;
  opacity: 0.9;
}

/* ä¾§è¾¹æ ç«–çº¿ */
.menu__list {
  margin-top: 4px;
  padding-left: 20px;
  position: relative;
}

/* æ·»åŠ ç«–çº¿ */
.menu__list::before {
  content: '';
  position: absolute;
  left: 8px;
  top: 0;
  bottom: 8px;
  width: 1px;
  border-radius: 1px;
  background: linear-gradient(to bottom, 
    rgba(242, 53, 10, 0.35) 0%, 
    rgba(240, 68, 29, 0.25) 40%,
    rgba(240, 68, 29, 0.15) 70%,
    rgba(240, 68, 29, 0.05) 100%);
}

[data-theme='dark'] .menu__list::before {
  background: linear-gradient(to bottom, 
    rgba(232, 41, 7, 0.5) 0%, 
    rgba(232, 41, 7, 0.35) 40%,
    rgba(232, 41, 7, 0.2) 70%,
    rgba(232, 41, 7, 0.08) 100%);
}

/* ä¸€çº§ç›®å½•ä¸‹çš„åˆ—è¡¨ä¸æ˜¾ç¤ºç«–çº¿ */
.top-level-category > .menu__list::before {
  display: none;
}

/* ç®­å¤´å°è€Œç¾ */
.menu__caret {
  padding: 0 !important;
  margin-right: 6px !important;
  width: 14px !important;
  height: 14px !important;
  opacity: 0.6;
}

/* =========================================
   3. ğŸ¯ é¡¶éƒ¨æœç´¢æ¡†ä¼˜åŒ– (Top Search Bar)
   ========================================= */

/* ä»…åœ¨æ¡Œé¢ç«¯åº”ç”¨å±…ä¸­é€»è¾‘ */
@media (min-width: 997px) {
  .navbar__search {
    /* æ ¸å¿ƒä¿®æ”¹ï¼šç»å¯¹å±…ä¸­å®šä½ */
    position: absolute !important;
    left: 50% !important;
    top: 50% !important;
    transform: translate(-50%, -50%) !important;
    
    /* å¸ƒå±€è°ƒæ•´ */
    margin: 0 !important;
    padding: 0 !important;
    z-index: 10 !important;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* è¾“å…¥æ¡†å“åº”å¼å®½åº¦æ§åˆ¶ */
  .navbar__search input,
  .navbar__search input[type="search"],
  .navbar__search .search-bar,
  .aa-Form {
    /* å“åº”å¼å®½åº¦ï¼šæœ€å°200pxï¼Œæœ€å¤§600pxï¼Œä¼˜å…ˆä½¿ç”¨å±å¹•å®½åº¦çš„30% */
    width: clamp(200px, 30vw, 600px) !important;
    max-width: 600px !important;
    min-width: 200px !important;
    
    /* é«˜åº¦ä¸å¤–è§‚ */
    height: 40px !important;
    min-height: 40px !important;
    border-radius: 20px !important;
    padding-left: 40px !important; /* ç»™å›¾æ ‡ç•™ä½ç½® */
    transition: width 0.3s ease, box-shadow 0.3s ease !important;
  }
  
  /* èšç„¦æ—¶ç¨å¾®å˜å®½ï¼Œå¢å¼ºä½“éªŒ */
  .navbar__search input:focus,
  .navbar__search input[type="search"]:focus,
  .aa-Form:focus-within {
    width: clamp(250px, 35vw, 650px) !important;
  }
}

/* é€šç”¨å¤–è§‚ï¼ˆä¸åˆ†ç«¯ï¼‰ */
.navbar__search input,
.aa-Form {
  background: rgba(255, 255, 255, 0.9) !important;
  border: 2px solid rgba(240, 68, 29, 0.15) !important;
  font-size: 14px !important;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05) !important;
}

[data-theme='dark'] .navbar__search input,
[data-theme='dark'] .aa-Form {
  background: rgba(40, 40, 41, 0.9) !important;
  border-color: rgba(232, 41, 7, 0.3) !important;
  color: #fff !important;
}

/* èšç„¦çŠ¶æ€ */
.navbar__search input:focus,
.aa-Form:focus-within {
  outline: none !important;
  border-color: var(--ifm-color-primary) !important;
  box-shadow: 0 0 0 3px rgba(240, 68, 29, 0.15) !important;
  background: #fff !important;
}

[data-theme='dark'] .navbar__search input:focus,
[data-theme='dark'] .aa-Form:focus-within {
  background: #2d2d2e !important;
  box-shadow: 0 0 0 3px rgba(232, 41, 7, 0.2) !important;
}

/* æœç´¢å›¾æ ‡å®šä½ */
.navbar__search::before {
  content: "" !important;
  position: absolute !important;
  left: 12px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  width: 18px !important;
  height: 18px !important;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23f0441d" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg>') !important;
  background-size: contain !important;
  background-repeat: no-repeat !important;
  pointer-events: none !important;
  z-index: 15 !important;
}

[data-theme='dark'] .navbar__search::before {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23e82907" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg>') !important;
}

/* =========================================
   4. ç§»åŠ¨ç«¯æœç´¢æ¡†ä¼˜åŒ– (Mobile)
   ========================================= */

@media (max-width: 996px) {
  .navbar__search {
    position: static !important;
    transform: none !important;
    margin: 0 10px !important;
    flex: 1;
  }
  
  .navbar__search input,
  .aa-Form {
    width: 100% !important;
    min-width: unset !important;
    max-width: unset !important;
  }
  
  /* ç§»åŠ¨ç«¯éšè—ä¸­é—´çš„å¤§æœç´¢æ¡†ï¼Œé€šå¸¸ Docusaurus ä¼šè‡ªåŠ¨å˜æ›´ä¸ºå›¾æ ‡ï¼Œ
     å¦‚æœä½ çš„ä¸»é¢˜é…ç½®æ˜¯ä¿ç•™æœç´¢æ ï¼Œä¸Šé¢çš„æ ·å¼ä¼šè®©å®ƒè‡ªé€‚åº”å¡«æ»¡å‰©ä½™ç©ºé—´ */
}

/* =========================================
   5. æœç´¢ç»“æœé¢æ¿ (Dropdown) ä¼˜åŒ–
   ========================================= */
/* ç¡®ä¿ä¸‹æ‹‰ç»“æœä¹Ÿå±…ä¸­æ˜¾ç¤º */
.navbar__search .search-result-container, 
.aa-Panel {
  left: 50% !important;
  transform: translateX(-50%) !important;
  width: 600px !important; /* ä¸æœ€å¤§å®½åº¦ä¿æŒä¸€è‡´ */
  max-width: 90vw !important;
  margin-top: 10px !important;
  border-radius: 12px !important;
}

/* =========================================
   å…¶ä»– UI è¾…åŠ©æ ·å¼ (Buttons, Scrollbars etc.)
   ========================================= */

/* æ»šåŠ¨æ¡ */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--ifm-color-primary); }

/* å¯¼èˆªæ æŒ‰é’®å®¹å™¨ */
.navbar__items--right {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* GitHub & æŒ‰é’®ç¾åŒ– */
.navbar__item.navbar__link[href*="github"],
.navbar__item.navbar-swapx-link {
  display: inline-flex;
  align-items: center;
  padding: 6px 16px;
  border-radius: 20px;
  font-weight: 600;
  font-size: 13px;
  background: rgba(240, 68, 29, 0.05);
  border: 1px solid rgba(240, 68, 29, 0.2);
  transition: all 0.3s ease;
  height: 36px;
  /* ä¿®å¤ï¼šæé«˜å±‚çº§ï¼Œé˜²æ­¢è¢«æœç´¢æ¡†é®æŒ¡ */
  position: relative;
  z-index: 12;
}

.navbar__item.navbar__link[href*="github"]:hover,
.navbar__item.navbar-swapx-link:hover {
  background: var(--ifm-color-primary);
  color: white !important;
  border-color: var(--ifm-color-primary);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(240, 68, 29, 0.3);
}

/* æ·±è‰²æ¨¡å¼æŒ‰é’®é€‚é… */
[data-theme='dark'] .navbar__item.navbar__link[href*="github"],
[data-theme='dark'] .navbar__item.navbar-swapx-link {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.2);
}

/* é¢œè‰²åˆ‡æ¢æŒ‰é’® */
button[class*="ColorModeToggle"] {
  margin-left: 5px;
}

/* æ–‡ç« å†…å®¹åŒºåŸŸå›¾ç‰‡ç¾åŒ– */
.markdown img {
  display: block;
  margin: 1.5rem auto;
  border-radius: 8px;
  max-width: 100%;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}